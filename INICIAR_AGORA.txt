#!/bin/bash
# INICIAR_AGORA.sh - Script para comeÃ§ar rapidinho com Docker

cat << 'EOF'

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                             â•‘
â•‘                 ğŸ‰ MEGA LOG V2.0 - ContainerizaÃ§Ã£o Completa! ğŸ‰            â•‘
â•‘                                                                             â•‘
â•‘                  âœ… Docker    âœ… Kubernetes    âœ… Helm                     â•‘
â•‘                                                                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ParabÃ©ns! ğŸŠ Seu MEGA LOG V2.0 foi completamente containerizado!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“¦ COMEÃ‡AR AGORA (Escolha uma opÃ§Ã£o abaixo)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ³ OPÃ‡ÃƒO 1: Docker Compose (MAIS FÃCIL - 15 segundos) â­ RECOMENDADO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   cd /opt/megalog
   docker-compose up -d
   
   # Aguarde 10 segundos, depois acesse:
   # http://localhost/login
   # User: superadmin
   # Pass: admin123
   
   # Para ver logs:
   docker-compose logs -f


â˜¸ï¸  OPÃ‡ÃƒO 2: Kubernetes (MAIS ROBUSTO)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   kubectl apply -f /opt/megalog/kubernetes-deployment.yaml
   
   # Aguarde ~2 minutos para pods ficarem ready:
   kubectl get pods
   kubectl get svc
   
   # Acessar:
   kubectl port-forward svc/megalog 8080:80
   # http://localhost:8080/login


ğŸ“¦ OPÃ‡ÃƒO 3: Helm (MAIS PROFISSIONAL)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   helm install megalog /opt/megalog/helm/megalog \\
     -n megalog --create-namespace
   
   # Verificar:
   helm list
   helm status megalog -n megalog
   
   # Acessar:
   kubectl port-forward -n megalog svc/megalog 8080:80


ğŸ¯ OPÃ‡ÃƒO 4: Menu Interativo (MAIS INTUITIVO)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

   bash /opt/megalog/quick-start.sh
   
   # Escolha a opÃ§Ã£o desejada no menu interativo


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ” VERIFICAÃ‡Ã•ES RÃPIDAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ApÃ³s iniciar (qualquer opÃ§Ã£o acima), teste:

1. Health Check:
   curl http://localhost/health
   # Deve retornar JSON com status healthy

2. Login:
   curl http://localhost/login | grep MEGA
   # Deve conter "MEGA LOG"

3. Verificar processador:
   docker ps | grep processor
   # Ou: kubectl get pods | grep processor

4. Ver logs:
   docker-compose logs -f
   # Ou: kubectl logs -f deployment/megalog-web


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“– DOCUMENTAÃ‡ÃƒO COMPLETA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Arquivos para ler:

â­ LEIA PRIMEIRO (5 minutos):
  â€¢ README_CONTAINERS.md              - Resumo geral
  â€¢ CONTAINERIZATION_SUMMARY.md       - Quick reference
  â€¢ FILES_CREATED.txt                 - O que foi criado

ğŸ“š GUIAS DETALHADOS (30+ minutos):
  â€¢ DOCKER.md                         - Tudo sobre Docker
  â€¢ KUBERNETES.md                     - Tudo sobre Kubernetes  
  â€¢ HELM.md                           - Tudo sobre Helm

Comandos:
  cat /opt/megalog/README_CONTAINERS.md
  cat /opt/megalog/CONTAINERIZATION_SUMMARY.md
  cat /opt/megalog/DOCKER.md


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ” âš ï¸ SEGURANÃ‡A - AÃ‡ÃƒO IMEDIATA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Credenciais padrÃ£o (MUDAR AGORA!):
  User: superadmin
  Pass: admin123

âš ï¸ NUNCA use em produÃ§Ã£o sem mudar!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âœ… O QUE FOI CRIADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Docker:
  âœ… Dockerfile                      - Imagem principal
  âœ… Dockerfile.processor            - Imagem do processador
  âœ… docker-compose.yml              - OrquestraÃ§Ã£o
  âœ… docker/entrypoint.sh            - InicializaÃ§Ã£o
  âœ… docker/nginx.conf               - ConfiguraÃ§Ã£o Nginx
  âœ… run_docker.sh                   - Script de controle
  âœ… build_docker.sh                 - Script de build

Kubernetes:
  âœ… kubernetes-deployment.yaml      - Manifesto K8s completo

Helm:
  âœ… helm/megalog/                   - Chart Helm completo
  âœ… 11 arquivos de templates

DocumentaÃ§Ã£o:
  âœ… 7 guias de 200+ linhas cada
  âœ… 2000+ linhas de documentaÃ§Ã£o
  âœ… 50+ exemplos de comandos

Scripts Ãšteis:
  âœ… quick-start.sh                  - Menu interativo
  âœ… run_docker.sh                   - Gerenciar containers
  âœ… build_docker.sh                 - Build de imagens


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ¯ TIMELINE RECOMENDADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AGORA (PrÃ³ximos 5 minutos):
  1. Execute uma das opÃ§Ãµes acima
  2. Verifique que estÃ¡ rodando
  3. Acesse http://localhost/login

HOJE (PrÃ³ximas 2 horas):
  1. Leia os guias Docker/K8s/Helm
  2. Teste todos os 3 mÃ©todos de deploy
  3. Mude as credenciais padrÃ£o
  4. FaÃ§a backup da configuraÃ§Ã£o

ESTA SEMANA:
  1. Deploy em staging
  2. Configure monitoramento
  3. Teste escalabilidade
  4. Prepare runbooks

ESTE MÃŠS:
  1. Deploy em produÃ§Ã£o
  2. Configure HTTPS
  3. Configure backups automÃ¡ticos
  4. Configure alertas


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ†˜ PROBLEMAS COMUNS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

"Porta 80 jÃ¡ estÃ¡ em uso"
  â†’ Mudar porta no docker-compose.yml ou kubernetes-deployment.yaml
  â†’ Ou: docker run ... -p 8080:80 (usar porta 8080)

"Docker: command not found"
  â†’ sudo apt-get install docker.io docker-compose
  â†’ sudo usermod -aG docker $USER

"Sem acesso ao /dados"
  â†’ Criar diretÃ³rios: mkdir -p /dados1/system-log/hot /dados2/system-log/cold
  â†’ Ajustar permissÃµes: sudo chown -R 1000:1000 /dados*

"Pod em Pending"
  â†’ Verificar: kubectl describe pod <nome>
  â†’ Aumentar storage ou recursos no values.yaml

Para mais troubleshooting, veja:
  cat /opt/megalog/CONTAINERIZATION_SUMMARY.md  # SeÃ§Ã£o Troubleshooting
  cat /opt/megalog/KUBERNETES.md                # SeÃ§Ã£o Troubleshooting
  cat /opt/megalog/DOCKER.md                    # SeÃ§Ã£o Troubleshooting


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ’¡ DICAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Docker Compose Ã© perfeito para testes locais
2. Kubernetes Ã© melhor para produÃ§Ã£o
3. Helm facilita atualizaÃ§Ãµes e rollbacks
4. Sempre faÃ§a backup antes de deletar volumes
5. Monitore recursos com: docker stats ou kubectl top

Comandos Ãºteis:
  docker-compose ps                   # Status
  docker-compose logs -f              # Logs
  docker-compose restart              # Reiniciar
  docker-compose down                 # Parar
  
  kubectl get pods,svc,pvc            # Status K8s
  kubectl logs -f pod/<nome>          # Logs K8s
  kubectl rollout restart deployment/<nome>  # Restart
  
  helm list                           # Releases
  helm upgrade megalog ...            # Atualizar
  helm rollback megalog 1             # Reverter


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ“ PRECISA DE AJUDA?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Leia a documentaÃ§Ã£o: cat /opt/megalog/*.md
2. Veja os logs: docker-compose logs
3. Execute o menu interativo: bash /opt/megalog/quick-start.sh
4. Procure no troubleshooting dos guias
5. Verifique com: curl http://localhost/health


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 âœ¨ PRÃ“XIMO PASSO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Escolha uma das 4 opÃ§Ãµes acima e execute! ğŸš€

Recomendado para iniciantes: 
  bash /opt/megalog/quick-start.sh

Ou direto:
  cd /opt/megalog && docker-compose up -d

Depois acesse: http://localhost/login


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 ğŸ‰ VOCÃŠ ESTÃ PRONTO PARA USAR!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VersÃ£o:     2.0.0
Status:     âœ… PRONTO PARA PRODUÃ‡ÃƒO
Criado em:  Dezembro 2024
Tempo setup: 1-5 minutos (dependendo do mÃ©todo)

Divirta-se! ğŸš€

EOF
